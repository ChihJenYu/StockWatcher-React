{"version":3,"file":"static/js/954.a6197f90.chunk.js","mappings":"wKAAO,IAAMA,EAAS,SAACC,GACIC,SAASC,cAAc,oBAC/BC,iBAAiB,SAAS,SAACC,GACtCA,EAAEC,iBACF,IAAIC,EAAWL,SAASC,cAAc,mBAAmBK,MACrDC,EAAcP,SAASC,cAAc,sBAAsBK,MAC3DE,EAAqBR,SAASC,cAC9B,8BACFK,MAEEC,GAAeC,EAIfC,MAAM,qBAAsB,CACxBC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CACjBC,MAAOV,EACPW,SAAUT,MAGbU,MAAK,SAACC,GACH,GAAmB,KAAfA,EAAKC,OACL,MAAM,IAAIC,MAEVF,EAAKG,UAGZJ,MAAK,SAACK,GACHC,QAAQC,IAAIF,GACZb,MAAM,kBAAmB,CACrBC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CACjBC,MAAOV,EACPW,SAAUT,MAGbU,MAAK,SAACC,GACH,GAAmB,KAAfA,EAAKC,OACL,MAAM,IAAIC,MAEVF,EAAKO,UAGZR,MAAK,SAACK,GACHC,QAAQC,IAAIF,GACZI,MAAM,YAAD,OAAarB,EAASsB,MAAM,KAAK,GAAjC,MACA5B,EAGD6B,OAAOC,SAASC,QAAQ/B,GAFxB6B,OAAOC,SAASE,KAAO,UAMtCC,OAAM,SAAC7B,GACJuB,MAAM,8CAlDdA,MAAM","sources":["scripts/signup.js"],"sourcesContent":["export const signup = (referrer) => {\n    const registerSubmit = document.querySelector(\".register-submit\");\n    registerSubmit.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        let regEmail = document.querySelector(\"#register-email\").value;\n        let regPassword = document.querySelector(\"#register-password\").value;\n        let regReenterPassword = document.querySelector(\n            \"#register-reenter-password\"\n        ).value;\n\n        if (regPassword != regReenterPassword) {\n            alert(\"Please make sure password is entered correctly!\");\n            return;\n        } else {\n            fetch(\"/api/user/register\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({\n                    email: regEmail,\n                    password: regPassword,\n                }),\n            })\n                .then((resp) => {\n                    if (resp.status == 400) {\n                        throw new Error();\n                    } else {\n                        resp.text();\n                    }\n                })\n                .then((data) => {\n                    console.log(data);\n                    fetch(\"/api/user/login\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\",\n                        },\n                        body: JSON.stringify({\n                            email: regEmail,\n                            password: regPassword,\n                        }),\n                    })\n                        .then((resp) => {\n                            if (resp.status == 400) {\n                                throw new Error();\n                            } else {\n                                resp.json();\n                            }\n                        })\n                        .then((data) => {\n                            console.log(data);\n                            alert(`Welcome, ${regEmail.split(\"@\")[0]}!`);\n                            if (!referrer) {\n                                window.location.href = \"/\";\n                            } else {\n                                window.location.replace(referrer);\n                            }\n                        });\n                })\n                .catch((e) => {\n                    alert(\"This email has already been registered!\");\n                });\n        }\n    });\n};\n"],"names":["signup","referrer","document","querySelector","addEventListener","e","preventDefault","regEmail","value","regPassword","regReenterPassword","fetch","method","headers","body","JSON","stringify","email","password","then","resp","status","Error","text","data","console","log","json","alert","split","window","location","replace","href","catch"],"sourceRoot":""}