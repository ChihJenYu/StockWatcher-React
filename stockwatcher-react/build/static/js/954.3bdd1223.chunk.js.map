{"version":3,"file":"static/js/954.3bdd1223.chunk.js","mappings":"wKAAO,IAAMA,EAAS,SAACC,GACIC,SAASC,cAAc,oBAC/BC,iBAAiB,SAAS,SAACC,GACtCA,EAAEC,iBACF,IAAIC,EAAWL,SAASC,cAAc,mBAAmBK,MACrDC,EAAcP,SAASC,cAAc,sBAAsBK,MAC3DE,EAAqBR,SAASC,cAAc,8BAA8BK,MAE1EC,GAAeC,EAMfC,MAAM,iBAAkB,CACpBC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CACjBC,MAAOV,EACPW,SAAUT,MAGbU,MAAK,SAACC,GACH,GAAmB,KAAfA,EAAKC,OACL,MAAM,IAAIC,MAGVF,EAAKG,UAGZJ,MAAK,SAACK,GACHC,QAAQC,IAAIF,GACZb,MAAM,cAAe,CACjBC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CACjBC,MAAOV,EACPW,SAAUT,MAGbU,MAAK,SAACC,GACH,GAAmB,KAAfA,EAAKC,OACL,MAAM,IAAIC,MAGVF,EAAKO,UAGZR,MAAK,SAACK,GACHC,QAAQC,IAAIF,GACZI,MAAM,YAAD,OAAarB,EAASsB,MAAM,KAAK,GAAjC,MACA5B,EAGD6B,OAAOC,SAASC,QAAQ/B,GAFxB6B,OAAOC,SAASE,KAAO,UAMtCC,OAAM,SAAC7B,GAAQuB,MAAM,8CArD1BA,MAAM","sources":["scripts/signup.js"],"sourcesContent":["export const signup = (referrer) => {\n    const registerSubmit = document.querySelector(\".register-submit\")\n    registerSubmit.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        let regEmail = document.querySelector(\"#register-email\").value;\n        let regPassword = document.querySelector(\"#register-password\").value;\n        let regReenterPassword = document.querySelector(\"#register-reenter-password\").value;\n\n        if (regPassword != regReenterPassword) {\n            alert(\"Please make sure password is entered correctly!\")\n            return;\n        }\n\n        else {\n            fetch(\"/user/register\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    email: regEmail,\n                    password: regPassword\n                })\n            })\n                .then((resp) => {\n                    if (resp.status == 400) {\n                        throw new Error();\n                    }\n                    else {\n                        resp.text()\n                    }\n                })\n                .then((data) => {\n                    console.log(data);\n                    fetch(\"/user/login\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            email: regEmail,\n                            password: regPassword\n                        })\n                    })\n                        .then((resp) => {\n                            if (resp.status == 400) {\n                                throw new Error();\n                            }\n                            else {\n                                resp.json();\n                            }\n                        })\n                        .then((data) => {\n                            console.log(data);\n                            alert(`Welcome, ${regEmail.split(\"@\")[0]}!`)\n                            if (!referrer) {\n                                window.location.href = \"/\"\n                            } else {\n                                window.location.replace(referrer)\n                            }\n                        })\n                })\n                .catch((e) => { alert(\"This email has already been registered!\") })\n        }\n    })\n}"],"names":["signup","referrer","document","querySelector","addEventListener","e","preventDefault","regEmail","value","regPassword","regReenterPassword","fetch","method","headers","body","JSON","stringify","email","password","then","resp","status","Error","text","data","console","log","json","alert","split","window","location","replace","href","catch"],"sourceRoot":""}